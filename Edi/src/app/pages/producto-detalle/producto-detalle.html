<div class="container mt-4">
  <!-- Estado de carga -->
  <div *ngIf="cargando" class="text-center py-5">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Cargando...</span>
    </div>
    <p class="mt-3">Cargando producto...</p>
  </div>

  <!-- Estado de error -->
  <div *ngIf="error && !cargando" class="alert alert-danger text-center" role="alert">
    <h4 class="alert-heading">¡Error!</h4>
    <p>{{ errorMensaje }}</p>
    <button class="btn btn-outline-danger" (click)="volverAProductos()">
      <i class="bi bi-arrow-left me-2"></i>Volver a productos
    </button>
  </div>

  <!-- Detalle del producto -->
  <div *ngIf="!cargando && !error && producto" class="row">
    <div class="col-md-6">
      <!-- Imagen del producto -->
      <div class="product-image-container">
        <img 
          *ngIf="producto.imagen" 
          [src]="producto.imagen" 
          [alt]="producto.nombre" 
          class="img-fluid rounded shadow"
          (error)="producto.imagen = ''">
        <div 
          *ngIf="!producto.imagen" 
          class="no-image-placeholder d-flex align-items-center justify-content-center">
          <i class="bi bi-image text-muted" style="font-size: 4rem;"></i>
        </div>
      </div>
    </div>
    
    <div class="col-md-6">
      <!-- Información del producto -->
      <div class="product-info">
        <h1 class="product-title">{{ producto.nombre }}</h1>
        
        <div class="product-price">
          <span class="price-amount">{{ formatearPrecio(producto.precio) }}</span>
        </div>
        
        <div class="product-category mb-3">
          <span class="badge bg-primary">{{ producto.categoria }}</span>
        </div>
        
        <div class="product-stock mb-3">
          <strong>Stock disponible:</strong> 
          <span [class]="producto.stock > 0 ? 'text-success' : 'text-danger'">
            {{ producto.stock }} unidades
          </span>
        </div>
        
        <div class="product-description mb-4">
          <h5>Descripción:</h5>
          <p>{{ producto.descripcion || 'Sin descripción disponible.' }}</p>
        </div>
        
        <div class="product-actions">
          <button class="btn btn-primary btn-lg me-2">
            <i class="bi bi-cart-plus me-2"></i>Agregar al carrito
          </button>
          <button class="btn btn-outline-secondary" (click)="volverAProductos()">
            <i class="bi bi-arrow-left me-2"></i>Volver a productos
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
